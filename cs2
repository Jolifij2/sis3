using System;
using System.Drawing;
using System.Windows.Forms;
using System.Runtime.InteropServices;

public partial class Form1 : Form
{
    [DllImport("user32.dll", CharSet = CharSet.Auto)]
    private static extern IntPtr SendMessage(IntPtr hWnd, uint Msg, IntPtr wParam, IntPtr lParam);

    [DllImport("user32.dll", CharSet = CharSet.Auto, SetLastError = true)]
    private static extern IntPtr FindWindowEx(IntPtr hwndParent, IntPtr hwndChildAfter, string lpszClass, string lpszWindow);

    private const uint WM_SETSTYLE = 0x007B;
    private const int GWL_STYLE = -16;
    private const int GWL_EXSTYLE = -20;
    private const uint WS_BORDER = 0x00800000;
    private const uint WS_TABSTOP = 0x00010000;
    private const uint WS_DISABLED = 0x08000000;
    private const uint WS_VISIBLE = 0x10000000;

    private const string TextBoxClassName = "Edit";
    private const string ButtonClassName = "Button";
    private const string LabelClassName = "Static";

    private TextBox nameTextBox;
    private TextBox ageTextBox;
    private Button greetButton;
    private Button closeButton;
    private Label infoLabel;
    private CheckBox enableCheckBox;

    public Form1()
    {
        InitializeComponent();
        this.Text = "Оконное приложение для стилизации";

        nameTextBox = new TextBox { Location = new Point(20, 20), Size = new Size(200, 20), Name = "NameTextBox" };
        this.Controls.Add(nameTextBox);

        ageTextBox = new TextBox { Location = new Point(20, 60), Size = new Size(200, 20), Name = "AgeTextBox" };
        this.Controls.Add(ageTextBox);

        greetButton = new Button { Location = new Point(20, 100), Size = new Size(120, 30), Text = "Приветствие", Name = "GreetButton" };
        this.Controls.Add(greetButton);
        greetButton.Click += GreetButton_Click;

        closeButton = new Button { Location = new Point(160, 100), Size = new Size(60, 30), Text = "Закрыть", Name = "CloseButton" };
        this.Controls.Add(closeButton);
        closeButton.Click += CloseButton_Click;

        infoLabel = new Label { Location = new Point(20, 150), Size = new Size(200, 50), Text = "Введите данные выше.", BorderStyle = BorderStyle.Fixed3D, Name = "InfoLabel" };
        this.Controls.Add(infoLabel);

        enableCheckBox = new CheckBox { Location = new Point(20, 210), Size = new Size(150, 20), Text = "Включить/Отключить", Name = "EnableCheckBox" };
        this.Controls.Add(enableCheckBox);
        enableCheckBox.CheckedChanged += EnableCheckBox_CheckedChanged;

        this.Size = new Size(260, 300);
    }

    private void GreetButton_Click(object sender, EventArgs e) { /* ... */ }
    private void CloseButton_Click(object sender, EventArgs e) { this.Close(); }
    private void EnableCheckBox_CheckedChanged(object sender, EventArgs e)
    {
        bool isEnabled = enableCheckBox.Checked;
        nameTextBox.Enabled = isEnabled;
        ageTextBox.Enabled = isEnabled;
        greetButton.Enabled = isEnabled;
        infoLabel.Enabled = isEnabled;
    }

    private System.ComponentModel.IContainer components = null;
    protected override void Dispose(bool disposing) { if (disposing && (components != null)) components.Dispose(); base.Dispose(disposing); }
    #region Windows Form Designer generated code
    private void InitializeComponent() { /* ... */ }
    #endregion
}
